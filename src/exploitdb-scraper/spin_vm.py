# -*- coding: utf-8 -*-

"""
Runs vagrant up if it detects a machine in the expected directory.
"""
import subprocess
import os

class SpinVM():
    
    def __init__(self, scenario_name, vm_name):
        self.scenario_name = scenario_name
        self.vm_name = vm_name
        
#    @app.route('/boxes/all')
#    def 
        
    def runVagrantUp(self):
        mydir = os.getcwd() # would be the same path as .py
        mydir = mydir.rsplit("\\", 1)[0]
        print(mydir)
        
        isFile = os.path.isfile(mydir)  
        print(isFile) 
        
        if not isFile:
            return
        
        mydir_new = os.chdir(mydir+"\\"+scenario_name+"\\"+vm_name+"\\")
        print(mydir_new)
        bashCommand = "dir"
        
#        subprocess.Popen("dir")
#        process = subprocess.Popen(bashCommand.split(), stdout=subprocess.PIPE)
#        output, error = process.communicate()
        output = os.popen(bashCommand).read()
        
        print(output)

test = SpinVM("Scenario_1", "attacker_1")
test.runVagrantUp()